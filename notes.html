<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<link rel="stylesheet" type="text/css" href="css/notes.css"> 
	<script type="text/javascript" src="js/mobile-check.js"></script>
	<script type="text/javascript" src="js/device-check.js"></script>
	<script type="text/javascript" src="js/dragscroll.js"></script>
	<title>notes</title>
	
</head>

<body class="fade-long fade-hidden">
	<div id="container">
		<div id="orientation-blocker">
			Please view in portrait orientation :)
		</div>
		<div id="header">
			<img src="img/notes/notes.png" />
		</div>
		<div id="notes-back" class="fade-short fade-hidden">
			<img src="img/notes/backbtn.png" alt="Backbtn">
		</div>
		<div id="notes"></div>
	</div>
	<div id="home"></div>
	
	<script type="application/javascript">
		// list of the imgs of notes
		var noteImgs = [ 
				"/img/notes/jan29.jpg",
				"/img/notes/jan13.jpg",
				"/img/notes/jan3.jpg" ,
				"/img/notes/dec17.jpg",
				"/img/notes/dec12.jpg", 
				"/img/notes/nov21.jpg",
				"/img/notes/oct20.jpg",
				"/img/notes/oct17.jpg",
				"/img/notes/oct1.jpg" ,
				"/img/notes/sept12.jpg",
				"/img/notes/sept11.jpg", 
				"/img/notes/sept1.jpg",
				"/img/notes/august21.jpg",
				"/img/notes/june29.jpg",
				"/img/notes/june13.jpg",
				"/img/notes/june1.jpg",
				"/img/notes/may24.jpg",
				"/img/notes/may2.jpg" ,
				"/img/notes/may1.jpg" ,
				"/img/notes/april17.jpg",
				"/img/notes/april11.jpg",
				"/img/notes/march13.jpg", 
				"/img/notes/feb25.jpg"
		];
  		function init() {
  			document.body.classList.add('fade-in');

			localStorage["appCount"]++;
			const homeBtn = document.getElementById('home');
			function goHome() {
				location.href = '/home.html';
			}
			homeBtn.addEventListener('click', goHome);
			homeBtn.addEventListener('tap', goHome);

			const cont = document.getElementById('container');
			const backBtn = document.getElementById('notes-back');
			const notes = document.getElementsByClassName('note');
			const noteContainer = document.getElementById('notes');

			document.getElementById('header').style.width = cont.clientWidth + 'px';

			let noteIsOpen = false; // clicked on notes
			let currentNote = null;

			backBtn.onclick = function() {
				backBtn.classList.remove('fade-in');
				window.scrollTo(0, 0);
				closeNotes();
				noteIsOpen = false;
			}

			function closeNotes() {
				for (let i = 0; i < notes.length; i++) {
					notes[i].style.height = '40px';
				}
			}

			// appends each notes to container with wrapper .note div
			for(let i = 0; i < noteImgs.length; i++) {
				const note = document.createElement('div');
				note.classList.add('note');
				note.onclick = function() {
					const h = this.clientHeight;
					backBtn.classList.add('fade-in');
					if (!noteIsOpen) {
						this.style.height = '530px';
						noteIsOpen = true;
					} else {
						closeNotes();
						this.style.height = '530px';
					}
				}
				const img = new Image();
				img.src = noteImgs[i];
				note.appendChild(img);
				noteContainer.appendChild(note);
			}
  		}
  		window.addEventListener('load', init);
  
  </script>
</body>